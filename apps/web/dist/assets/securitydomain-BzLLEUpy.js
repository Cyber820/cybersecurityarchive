import"./modulepreload-polyfill-B5Qt9EMX.js";import{m as g}from"./global-search-DWEeHIbM.js";h();g(document.getElementById("globalSearch"));const p=x("/securitydomain");p?f(p):(a("#pageTitle","网安领域"),a("#aliases","（缺少领域标识）"),a("#description","（缺少领域标识）"));async function f(t){a("#aliases","（加载中）"),a("#description","（加载中）"),y("#relatedProducts");try{const e=await fetch(`/api/domain/${encodeURIComponent(t)}`);if(!e.ok){const n=await b(e);throw new Error(`HTTP ${e.status}: ${n||e.statusText}`)}const r=await e.json(),o=r.domain||{},u=o.security_domain_name||o.cybersecurity_domain_slug||t;a("#pageTitle",`网安领域：${u}`);const c=Array.isArray(r.aliases)?r.aliases:[];a("#aliases",c.length?c.join("、"):"（无）");const s=o.security_domain_description||"";a("#description",s.trim()?s:"（无）");const d=Array.isArray(r.products)?r.products:[];if(!d.length)document.querySelector("#relatedProducts").innerHTML='<div class="muted">（无）</div>';else for(const n of d){const m=n.security_product_name||n.security_product_slug||String(n.security_product_id||""),l=n.security_product_slug,i=document.createElement("a");i.className="chip chip-purple",i.textContent=m,i.href=l?`/securityproduct/${encodeURIComponent(l)}`:"#",document.querySelector("#relatedProducts").appendChild(i)}}catch(e){a("#aliases","（无）"),a("#description","（无）"),document.querySelector("#relatedProducts").innerHTML="";const r=document.createElement("div");r.className="error",r.textContent=`加载失败：${(e==null?void 0:e.message)||e}`,document.querySelector("main").insertAdjacentElement("afterbegin",r)}}function x(t){const e=window.location.pathname||"",r=e.indexOf(t);if(r===-1)return"";const o=e.slice(r+t.length).replace(/^\/+/,"");return decodeURIComponent(o||"").trim()}function a(t,e){const r=document.querySelector(t);r&&(r.textContent=e)}function y(t){const e=document.querySelector(t);e&&(e.innerHTML="")}async function b(t){try{return await t.text()}catch{return""}}function h(){if(document.getElementById("baseStyles"))return;const t=document.createElement("style");t.id="baseStyles",t.textContent=`
    :root{--bg:#f6f7fb;--card:#fff;--border:#e6e8ef;--text:#111;--muted:#6b7280;--purple:#6d28d9;--purple2:#7c3aed;--blue:#2563eb;--blue2:#3b82f6;}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; background:var(--bg); color:var(--text);}
    .page{max-width:980px;margin:32px auto;padding:0 16px 48px;}
    .page-title{font-size:34px;letter-spacing:0.2px;margin:0 0 18px;}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px 18px;margin:14px 0;}
    .card-title{font-size:18px;margin:0 0 10px;}
    .kv{line-height:1.7;white-space:pre-wrap;}
    .muted{color:var(--muted);}
    .chip-row{display:flex;flex-wrap:wrap;gap:10px;}
    .chip{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;text-decoration:none;border:1px solid transparent;}
    .chip-purple{background:rgba(124,58,237,0.12);border-color:rgba(124,58,237,0.22);color:#2a0a7a;}
    .chip-purple:hover{background:rgba(124,58,237,0.18);}
    .error{background:#fff5f5;border:1px solid #fecaca;color:#991b1b;border-radius:12px;padding:10px 12px;margin:0 0 14px;}
  `,document.head.appendChild(t)}
