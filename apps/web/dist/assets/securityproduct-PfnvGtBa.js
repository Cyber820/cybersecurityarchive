import"./modulepreload-polyfill-B5Qt9EMX.js";import{m as b}from"./global-search-DWEeHIbM.js";_();b(document.getElementById("globalSearch"));const g=y("/securityproduct");g?x(g):(a("#pageTitle","安全产品"),a("#aliases","（缺少产品标识）"),a("#description","（缺少产品标识）"));async function x(r){a("#aliases","（加载中）"),a("#description","（加载中）"),f("#relatedDomains"),f("#recCompaniesCn");try{const e=await fetch(`/api/product/${encodeURIComponent(r)}`);if(!e.ok){const n=await h(e);throw new Error(`HTTP ${e.status}: ${n||e.statusText}`)}const t=await e.json(),i=t.product||{},d=i.security_product_name||i.security_product_slug||r;a("#pageTitle",`安全产品：${d}`),a("#introTitle",`${d}介绍`);const l=Array.isArray(t.aliases)?t.aliases:[];a("#aliases",l.length?l.join("、"):"（无）");const p=i.security_product_description||"";a("#description",p.trim()?p:"（无）");const u=Array.isArray(t.domains)?t.domains:[];if(!u.length)document.querySelector("#relatedDomains").innerHTML='<div class="muted">（无）</div>';else for(const n of u){const s=n.security_domain_name||n.cybersecurity_domain_slug||String(n.security_domain_id||""),c=n.cybersecurity_domain_slug,o=document.createElement("a");o.className="chip chip-purple",o.textContent=s,o.href=c?`/securitydomain/${encodeURIComponent(c)}`:"#",document.querySelector("#relatedDomains").appendChild(o)}const m=Array.isArray(t.recommended_companies_cn)?t.recommended_companies_cn:[];if(!m.length)document.querySelector("#recCompaniesCn").innerHTML='<div class="muted">（无）</div>';else for(const n of m){const s=n.organization_short_name||n.organization_slug||String(n.organization_id||""),c=n.organization_slug,o=document.createElement("a");o.className="chip chip-blue",o.textContent=s,o.href=c?`/company/${encodeURIComponent(c)}`:"#",document.querySelector("#recCompaniesCn").appendChild(o)}}catch(e){a("#aliases","（无）"),a("#description","（无）");const t=document.createElement("div");t.className="error",t.textContent=`加载失败：${(e==null?void 0:e.message)||e}`,document.querySelector("main").insertAdjacentElement("afterbegin",t)}}function y(r){const e=window.location.pathname||"",t=e.indexOf(r);if(t===-1)return"";const i=e.slice(t+r.length).replace(/^\/+/,"");return decodeURIComponent(i||"").trim()}function a(r,e){const t=document.querySelector(r);t&&(t.textContent=e)}function f(r){const e=document.querySelector(r);e&&(e.innerHTML="")}async function h(r){try{return await r.text()}catch{return""}}function _(){if(document.getElementById("baseStyles"))return;const r=document.createElement("style");r.id="baseStyles",r.textContent=`
    :root{--bg:#f6f7fb;--card:#fff;--border:#e6e8ef;--text:#111;--muted:#6b7280;--purple:#6d28d9;--purple2:#7c3aed;--blue:#2563eb;--blue2:#3b82f6;}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; background:var(--bg); color:var(--text);}
    .page{max-width:980px;margin:32px auto;padding:0 16px 48px;}
    .page-title{font-size:34px;letter-spacing:0.2px;margin:0 0 18px;}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px 18px;margin:14px 0;}
    .card-title{font-size:18px;margin:0 0 10px;}
    .kv{line-height:1.7;white-space:pre-wrap;}
    .muted{color:var(--muted);}
    .grid-2{display:grid;grid-template-columns:1fr;gap:14px;}
    @media (min-width:860px){.grid-2{grid-template-columns:1fr 1fr;}}
    .chip-row{display:flex;flex-wrap:wrap;gap:10px;}
    .chip{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;text-decoration:none;border:1px solid transparent;}
    .chip-purple{background:rgba(124,58,237,0.12);border-color:rgba(124,58,237,0.22);color:#2a0a7a;}
    .chip-purple:hover{background:rgba(124,58,237,0.18);}
    .chip-blue{background:rgba(59,130,246,0.12);border-color:rgba(59,130,246,0.22);color:#0a2c6a;}
    .chip-blue:hover{background:rgba(59,130,246,0.18);}
    .error{background:#fff5f5;border:1px solid #fecaca;color:#991b1b;border-radius:12px;padding:10px 12px;margin:0 0 14px;}
  `,document.head.appendChild(r)}
