import"./modulepreload-polyfill-B5Qt9EMX.js";const a=e=>document.getElementById(e);function i(e,o,t){if(!(o!=null&&o.length))return"";const c=o.map(n=>t==="company"?`<li><a href="/api/company/${encodeURIComponent(n.organization_slug)}" target="_blank">${r(n.company_short_name||n.company_full_name||n.organization_slug)}</a> <span style="color:#666">(${r(n.organization_slug)})</span></li>`:t==="product"?`<li><a href="/api/product/${encodeURIComponent(n.security_product_slug)}" target="_blank">${r(n.security_product_name||n.security_product_slug)}</a> <span style="color:#666">(${r(n.security_product_slug)})</span></li>`:`<li><a href="/api/domain/${encodeURIComponent(n.cybersecurity_domain_slug)}" target="_blank">${r(n.security_domain_name||n.cybersecurity_domain_slug)}</a> <span style="color:#666">(${r(n.cybersecurity_domain_slug)})</span></li>`).join("");return`<h4>${e}</h4><ul>${c}</ul>`}function r(e){return String(e??"").replace(/[&<>"']/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[o])}async function s(){const e=a("q").value.trim(),t=await(await fetch(`/api/search?q=${encodeURIComponent(e)}`)).json(),c=[i("Companies",t.companies,"company"),i("Products",t.products,"product"),i("Domains",t.domains,"domain")].filter(Boolean).join("")||'<p style="color:#666">无结果</p>';a("result").innerHTML=c}a("btnSearch").addEventListener("click",s);a("q").addEventListener("keydown",e=>{e.key==="Enter"&&s()});a("result").innerHTML='<p style="color:#666">输入关键词并搜索。</p>';
